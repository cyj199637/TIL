# 10장. 클래스

## 클래스 체계

클래스를 정의하는 표준 자바 관례에 따르면, 정적 public 상수 → 정적 private 상수 → private 인스턴스 변수 → public 함수 → private 함수(자신을 호출하는 public 함수 직후) 순으로 나온다.

- public 변수가 필요한 경우는 거의 없다.

### 캡슐화

변수와 유틸리티 함수는 가능한 공개하지 않는 편이 낫지만 때로는 protected로 선언해 테스트 코드에 접근을 허용하기도 한다. 하지만 이는 언제나 최후의 수단이다.

## 클래스는 작아야 한다!

클래스가 가지는 책임이 작아야 한다.

### 단일 책임 원칙(SRP)

클래스나 모듈을 변경할 이유가 하나뿐이어야 한다.

큰 클래스 몇 개가 아니라 작은 클래스 여럿으로 이뤄진 시스템이 더 바람직하다.

그래야 (변경을 가할 때) 직접 영향이 미치는 컴포넌트만 이해해도 충분하다.

### 응집도

‘함수를 작게, 매개변수 목록을 짧게’ 라는 전략을 따르다 보면 때때로 몇몇 메서드만이 사용하는 인스턴스 변수가 많아진다. 이는 새로운 클래스로 쪼개야 한다는 신호다.

응집도가 높아지도록 변수와 메서드를 적절히 분리해 새로운 클래스로 쪼개준다.

- 응집도가 높다: 클래스에 속한 메서드와 변수가 서로 의존하며 논리적인 단위로 묶인다

### 응집도를 유지하면 작은 클래스 여럿이 나온다.

예를 들어, 변수가 아주 많은 큰 함수 하나가 있다. 큰 함수 일부를 작은 함수 하나로 빼내고 싶은데, 빼내려는 코드가 큰 함수에 정의된 변수 넷을 사용한다. 그렇다면 변수 네 개를 새 함수에 인수로 넘겨야 옳을까?

전혀 아니다! 네 변수를 클래스 인스턴스 변수로 바꾸면 된다.

그러나 이렇게 되면 클래스가 응집력을 잃게 되므로, 이를 다시 독자적인 클래스로 분리한다.

## 변경하기 쉬운 클래스

새 기능을 수정하거나 기존 기능을 변경할 때 건드릴 코드가 최소인 시스템 구조가 바람직하다.

이상적인 시스템이라면 새 기능을 추가할 때 시스템을 확장할 뿐 기존 코드를 변경하지는 않는다.

### 변경으로부터 격리

시스템의 결합도를 낮추면 유연성과 재사용성도 더욱 높아진다.

- 결합도가 낮다: 각 시스템 요소가 다른 요소로부터 혹은 변경으로부터 잘 격리되어 있다

결합도를 최소로 줄이면 자연스럽게 DIP를 따르는 클래스가 나온다.

- DIP: 클래스가 상세한 구현이 아니라 추상화에 의존해야 한다